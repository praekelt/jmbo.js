(function(){var l,m,p,n,j,q,k,o=[].slice,d=function(b,a){return function(){return b.apply(a,arguments)}},r={}.hasOwnProperty,g=function(b,a){function i(){this.constructor=b}for(var h in a)r.call(a,h)&&(b[h]=a[h]);i.prototype=a.prototype;b.prototype=new i;b.__super__=a.prototype;return b};window.namespace=function(b,a,i){var h,c,e,f,d;3>arguments.length&&(h=["undefined"!==typeof exports?exports:window].concat(o.call(arguments)),b=h[0],a=h[1],i=h[2]);c=b;d=a.split(".");e=0;for(f=d.length;e<f;e++)h=
d[e],b=b[h]||(b[h]={});return i(b,c)};window.l=function(){var b;b=1<=arguments.length?o.call(arguments,0):[];1===b.length&&(b=b[0]);return console.log(b)};k=function(b){function a(){this.setTitle=d(this.setTitle,this);this.render=d(this.render,this);return a.__super__.constructor.apply(this,arguments)}g(a,b);a.name="TitleView";a.prototype.className="jmbo-ui-title-view";a.prototype.initialize=function(){this.template=_.template("<h1><%= title %></h1>");return this.title="Untitled"};a.prototype.render=
function(){return this.$el.html(this.template({title:this.title}))};a.prototype.setTitle=function(a){return this.title=a};return a}(Backbone.View);namespace("jmbo.ui",function(b){b.TitleView=k;return b.animate=function(a,i,b,c){var e,f;e=i+"-"+b;f="anim-event-"+e;a.addClass(e);a.on(f,function(){a.off(f);a.removeClass(e);if(c)return c()});a.on("webkitAnimationEnd animationEnd",function(){return a.trigger(f)});if(!1===i)return a.trigger(f)}});n=function(b){function a(){return a.__super__.constructor.apply(this,
arguments)}g(a,b);a.name="Controller";a.prototype.defaults={view:null};return a}(Backbone.Model);q=function(b){function a(){return a.__super__.constructor.apply(this,arguments)}g(a,b);a.name="Controllers";a.prototype.model=n;return a}(Backbone.Collection);p=function(b){function a(){return a.__super__.constructor.apply(this,arguments)}g(a,b);a.name="Config";a.prototype.defaults={TitleView:jmbo.ui.TitleView,view:null,title:"Untitled",icon:null};return a}(Backbone.Model);j=function(b){function a(){this.animate=
d(this.animate,this);this.render=d(this.render,this);return a.__super__.constructor.apply(this,arguments)}g(a,b);a.name="ControllerView";a.prototype.className="jmbo-ui-view-controller-view";a.prototype.initialize=function(){return this.config=new p(this.options)};a.prototype.render=function(){var a;k=this.config.get("TitleView");null!=k&&(a=new k,a.setTitle(this.config.get("title")),this.$el.html(a.render()));a=this.config.get("view");null!=a&&(a=null!=a.render?a.render():$(a).html(),this.$el.append(a));
return this.el};a.prototype.animate=function(a,b,c){return jmbo.ui.animate(this.$el,a,b,c)};return a}(Backbone.View);namespace("jmbo.ui.view",function(b){b.Controller=n;b.Controllers=q;return b.ControllerView=j});j=function(b){function a(){this.pop=d(this.pop,this);this.push=d(this.push,this);this.render=d(this.render,this);return a.__super__.constructor.apply(this,arguments)}g(a,b);a.name="ControllerView";a.prototype.className="jmbo-ui-stack-controller-view";a.prototype.initialize=function(){a.__super__.initialize.apply(this,
arguments);return this.collection=new jmbo.ui.view.Controllers};a.prototype.render=function(){var a;this.$el.html("");a=this.collection.last();null!=a&&(a=a.get("view"),this.$el.html(a.render()));return this.el};a.prototype.push=function(a,b){var c,e;null==b&&(b={animation:"slide-right"});c=this.collection.last();null!=c&&(e=c.get("view"),e.animate(b.animation,"out",function(){return e.$el.html("").remove()}));this.collection.add({view:a});this.$el.append(a.render());a.animate(b.animation,"in");return a};
a.prototype.pop=function(a){var b,c;null==a&&(a={animation:"slide-left"});b=this.collection.pop();null!=b&&(c=b.get("view"),c.animate(a.animation,"out",function(){return c.$el.html("").remove()}));b=this.collection.last();null!=b&&(b=b.get("view"),this.$el.append(b.render()),b.animate(a.animation,"in"));return c};return a}(jmbo.ui.view.ControllerView);namespace("jmbo.ui.stack",function(b){return b.ControllerView=j});l=function(b){function a(){this.renderSelected=d(this.renderSelected,this);this.render=
d(this.render,this);this.select=d(this.select,this);return a.__super__.constructor.apply(this,arguments)}g(a,b);a.name="BarItemView";a.prototype.tagName="li";a.prototype.className="jmbo-ui-tab-bar-item-view";a.prototype.events={click:"select"};a.prototype.initialize=function(){return this.model.on("change:selected",this.renderSelected)};a.prototype.select=function(){var a,b,c,e,f;f=this.model.collection.where({selected:!0});b=function(){return a.set({selected:!1})};c=0;for(e=f.length;c<e;c++)a=f[c],
b();return this.model.set({selected:!0})};a.prototype.render=function(){this.$el.html(this.model.get("view").config.get("title"));return this.el};a.prototype.renderSelected=function(){return this.$el.toggleClass("selected")};return a}(Backbone.View);m=function(b){function a(){this.render=d(this.render,this);return a.__super__.constructor.apply(this,arguments)}g(a,b);a.name="BarView";a.prototype.tagName="ul";a.prototype.className="jmbo-ui-tab-bar-view";a.prototype.initialize=function(){return this.collection.on("reset",
this.render)};a.prototype.render=function(){var a;this.$el.html("");a=this;this.collection.each(function(b){return a.$el.append((new l({model:b})).render())});return this.el};return a}(Backbone.View);j=function(b){function a(){this.selectedIndex=d(this.selectedIndex,this);this.set=d(this.set,this);this.renderSelected=d(this.renderSelected,this);this.render=d(this.render,this);return a.__super__.constructor.apply(this,arguments)}g(a,b);a.name="ControllerView";a.prototype.className="jmbo-ui-tab-controller-view";
a.prototype.initialize=function(){a.__super__.initialize.apply(this,arguments);this.collection=new jmbo.ui.view.Controllers;this.collection.on("change:selected",this.renderSelected);return this._selectedIndex=0};a.prototype.render=function(){this.$el.html('<div id="jmbo-ui-tab-controller-view-context"></div>');this.$el.append((new m({collection:this.collection})).render());return this.el};a.prototype.renderSelected=function(){var a;a=this.collection.where({selected:!0});if(a.length)return a=a[0].get("view"),
this.$el.find("#jmbo-ui-tab-controller-view-context").html(a.render())};a.prototype.set=function(){var a,b,c,e,f,d;a=1<=arguments.length?o.call(arguments,0):[];this.collection.reset([],{silent:!0});if(0===a.length)this.collection.trigger("reset");else{b=this;e=function(){return b.collection.add({view:c,selected:!1},{silent:!0})};f=0;for(d=a.length;f<d;f++)c=a[f],e();this.collection.trigger("reset");return this.selectedIndex(0)}};a.prototype.selectedIndex=function(a){var b,c,e,d,g;if(null==a)return a=
this._selectedIndex;g=this.collection.where({selected:!0});c=function(){return b.set({selected:!1})};e=0;for(d=g.length;e<d;e++)b=g[e],c();this.collection.at(a).set({selected:!0});return this._selectedIndex=a};return a}(jmbo.ui.view.ControllerView);namespace("jmbo.ui.tab",function(b){b.ControllerView=j;b._BarView=m;return b._BarItemView=l})}).call(this);
